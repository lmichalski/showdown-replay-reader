import { parseDelimeterToRest } from "./parsers/parseDelimeter";
import { parseReplay } from "./parsers/parseReplay";

const log = `|j|☆Glumlee
|j|☆2n2plus
|t:|1721091573
|gametype|singles
|player|p1|Glumlee|wattson|
|player|p2|2n2plus|doubleteam|
|teamsize|p1|6
|teamsize|p2|6
|gen|9
|tier|[Gen 9] Tera Preview NatDex Draft
|rule|Tera Type Preview: Tera Types are shown at Team Preview
|rule|Sleep Clause Mod: Limit one foe put to sleep
|rule|OHKO Clause: OHKO moves are banned
|rule|Evasion Clause: Evasion abilities, items, and moves are banned
|rule|Evasion Abilities Clause: Evasion abilities are banned
|rule|Evasion Items Clause: Evasion items are banned
|rule|Evasion Moves Clause: Evasion moves are banned
|rule|Endless Battle Clause: Forcing endless battles is banned
|rule|HP Percentage Mod: HP is shown in percentages
|clearpoke
|poke|p1|Gouging Fire|
|poke|p1|Goodra-Hisui, M|
|poke|p1|Blastoise, F|
|poke|p1|Sylveon, M|
|poke|p1|Venusaur, F|
|poke|p1|Azelf|
|poke|p2|Kommo-o, M|
|poke|p2|Slurpuff, F|
|poke|p2|Claydol|
|poke|p2|Samurott-Hisui, M|
|poke|p2|Victini|
|poke|p2|Scizor, F|
|teampreview
|raw|Glumlee's Tera Types:<br /><psicon pokemon="gougingfire" /><psicon type="Fire" /> / <psicon pokemon="goodrahisui" /><psicon type="Steel" /> / <psicon pokemon="blastoise" /><psicon type="Water" /> / <psicon pokemon="sylveon" /><psicon type="Fairy" /> / <psicon pokemon="venusaur" /><psicon type="Grass" /> / <psicon pokemon="azelf" /><psicon type="Psychic" />
|raw|2n2plus's Tera Types:<br /><psicon pokemon="kommoo" /><psicon type="Dragon" /> / <psicon pokemon="slurpuff" /><psicon type="Fire" /> / <psicon pokemon="claydol" /><psicon type="Steel" /> / <psicon pokemon="samurotthisui" /><psicon type="Water" /> / <psicon pokemon="victini" /><psicon type="Psychic" /> / <psicon pokemon="scizor" /><psicon type="Bug" />
|j| NBA Leezey
|c| NBA Leezey|content time
|j| night triumphant
|j| Fennekmaster
|j| izayaforpresident
|j| TransFlutterMane
|
|t:|1721091619
|start
|switch|p1a: Azelf|Azelf|100/100
|switch|p2a: Kill Bill|Samurott-Hisui, M|100/100
|turn|1
|
|t:|1721091629
|move|p1a: Azelf|Stealth Rock|p2a: Kill Bill
|-sidestart|p2: 2n2plus|move: Stealth Rock
|move|p2a: Kill Bill|Ceaseless Edge|p1a: Azelf
|-supereffective|p1a: Azelf
|-enditem|p1a: Azelf|Focus Sash
|-damage|p1a: Azelf|1/100
|-sidestart|p1: Glumlee|Spikes
|
|upkeep
|turn|2
|
|t:|1721091635
|move|p2a: Kill Bill|Aqua Jet|p1a: Azelf
|-damage|p1a: Azelf|0 fnt
|faint|p1a: Azelf
|
|upkeep
|
|t:|1721091651
|switch|p1a: Venusaur|Venusaur, F|100/100
|-damage|p1a: Venusaur|88/100|[from] Spikes
|turn|3
|c| Fennekmaster|sammy kill
|
|t:|1721091676
|move|p2a: Kill Bill|Swords Dance|p2a: Kill Bill
|-boost|p2a: Kill Bill|atk|2
|move|p1a: Venusaur|Sunny Day|p1a: Venusaur
|-weather|SunnyDay
|
|-weather|SunnyDay|[upkeep]
|upkeep
|turn|4
|
|t:|1721091680
|move|p1a: Venusaur|Sleep Powder|p2a: Kill Bill
|-status|p2a: Kill Bill|slp|[from] move: Sleep Powder
|cant|p2a: Kill Bill|slp
|
|-weather|SunnyDay|[upkeep]
|upkeep
|turn|5
|c| TransFlutterMane|heat??
|c| NBA Leezey|:o
|c|☆2n2plus|good set
|j| LethalBlue
|c| Fennekmaster|:fire:
|
|t:|1721091747
|switch|p2a: Shogun|Kommo-o, M|100/100
|-damage|p2a: Shogun|94/100|[from] Stealth Rock
|move|p1a: Venusaur|Earth Power|p2a: Shogun
|-damage|p2a: Shogun|64/100
|
|-weather|SunnyDay|[upkeep]
|upkeep
|turn|6
|
|t:|1721091783
|switch|p2a: Eyes Wide Shut|Claydol|100/100
|-damage|p2a: Eyes Wide Shut|94/100|[from] Stealth Rock
|move|p1a: Venusaur|Sleep Powder|p2a: Eyes Wide Shut
|-message|Sleep Clause Mod activated.
|-hint|Sleep Clause Mod prevents players from putting more than one of their opponent's Pokémon to sleep at a time
|
|-weather|SunnyDay|[upkeep]
|upkeep
|turn|7
|c|☆Glumlee|oh yeah
|
|t:|1721091793
|move|p1a: Venusaur|Weather Ball|p2a: Eyes Wide Shut
|-damage|p2a: Eyes Wide Shut|55/100
|move|p2a: Eyes Wide Shut|Light Screen|p2a: Eyes Wide Shut
|-sidestart|p2: 2n2plus|move: Light Screen
|
|-weather|none
|upkeep
|turn|8
|c| TransFlutterMane|lmao
|c| NBA Leezey|LOL
|
|t:|1721091810
|switch|p1a: Blastoise|Blastoise, F|100/100
|-damage|p1a: Blastoise|88/100|[from] Spikes
|move|p2a: Eyes Wide Shut|Reflect|p2a: Eyes Wide Shut
|-sidestart|p2: 2n2plus|Reflect
|
|upkeep
|turn|9
|
|t:|1721091816
|move|p2a: Eyes Wide Shut|Toxic|p1a: Blastoise|[miss]
|-miss|p2a: Eyes Wide Shut|p1a: Blastoise
|move|p1a: Blastoise|Rapid Spin|p2a: Eyes Wide Shut
|-damage|p2a: Eyes Wide Shut|50/100
|-boost|p1a: Blastoise|spe|1
|-sideend|p1: Glumlee|Spikes|[from] move: Rapid Spin|[of] p1a: Blastoise
|
|upkeep
|turn|10
|
|t:|1721091822
|move|p1a: Blastoise|Scald|p2a: Eyes Wide Shut
|-supereffective|p2a: Eyes Wide Shut
|-damage|p2a: Eyes Wide Shut|29/100
|move|p2a: Eyes Wide Shut|Rapid Spin|p1a: Blastoise
|-damage|p1a: Blastoise|82/100
|-boost|p2a: Eyes Wide Shut|spe|1
|-damage|p2a: Eyes Wide Shut|12/100|[from] item: Rocky Helmet|[of] p1a: Blastoise
|-sideend|p2: 2n2plus|Stealth Rock|[from] move: Rapid Spin|[of] p2a: Eyes Wide Shut
|
|upkeep
|turn|11
|
|t:|1721091827
|move|p2a: Eyes Wide Shut|Toxic|p1a: Blastoise
|-status|p1a: Blastoise|tox
|move|p1a: Blastoise|Scald|p2a: Eyes Wide Shut
|-supereffective|p2a: Eyes Wide Shut
|-damage|p2a: Eyes Wide Shut|0 fnt
|faint|p2a: Eyes Wide Shut
|
|-damage|p1a: Blastoise|76/100 tox|[from] psn
|upkeep
|
|t:|1721091842
|switch|p2a: Vendetta|Victini|100/100
|turn|12
|c| Fennekmaster|its tini
|
|t:|1721091864
|move|p2a: Vendetta|Flame Charge|p1a: Blastoise
|-resisted|p1a: Blastoise
|-crit|p1a: Blastoise
|-damage|p1a: Blastoise|68/100 tox
|-boost|p2a: Vendetta|spe|1
|-damage|p2a: Vendetta|84/100|[from] item: Rocky Helmet|[of] p1a: Blastoise
|move|p1a: Blastoise|Flip Turn|p2a: Vendetta
|-supereffective|p2a: Vendetta
|-damage|p2a: Vendetta|66/100
|-enditem|p2a: Vendetta|Weakness Policy
|-boost|p2a: Vendetta|atk|2|[from] item: Weakness Policy
|-boost|p2a: Vendetta|spa|2|[from] item: Weakness Policy
|c| TransFlutterMane|tini wini
|c| TransFlutterMane|hol up
|c| Fennekmaster|ngl i saw that coming lol
|
|t:|1721091950
|switch|p1a: Venusaur|Venusaur, F|88/100|[from] Flip Turn
|
|upkeep
|turn|13
|
|t:|1721091956
|detailschange|p1a: Venusaur|Venusaur-Mega, F
|-mega|p1a: Venusaur|Venusaur|Venusaurite
|move|p2a: Vendetta|Psychic|p1a: Venusaur
|-supereffective|p1a: Venusaur
|-damage|p1a: Venusaur|0 fnt
|faint|p1a: Venusaur
|
|upkeep
|l| LethalBlue
|
|t:|1721091962
|switch|p1a: Goodra|Goodra-Hisui, M|100/100
|turn|14
|
|t:|1721092000
|move|p2a: Vendetta|Blue Flare|p1a: Goodra
|-damage|p1a: Goodra|43/100
|-status|p1a: Goodra|brn
|move|p1a: Goodra|Thunderbolt|p2a: Vendetta
|-damage|p2a: Vendetta|52/100
|
|-damage|p1a: Goodra|37/100 brn|[from] brn
|-sideend|p2: 2n2plus|move: Light Screen
|upkeep
|turn|15
|
|t:|1721092008
|move|p2a: Vendetta|Blue Flare|p1a: Goodra
|-damage|p1a: Goodra|0 fnt
|faint|p1a: Goodra
|
|-sideend|p2: 2n2plus|Reflect
|upkeep
|
|t:|1721092022
|switch|p1a: Gouging Fire|Gouging Fire|100/100
|turn|16
|
|t:|1721092082
|move|p2a: Vendetta|Psychic|p1a: Gouging Fire
|-damage|p1a: Gouging Fire|19/100
|-unboost|p1a: Gouging Fire|spd|1
|move|p1a: Gouging Fire|Earthquake|p2a: Vendetta
|-supereffective|p2a: Vendetta
|-damage|p2a: Vendetta|0 fnt
|faint|p2a: Vendetta
|
|upkeep
|c| Fennekmaster|tini wini
|
|t:|1721092109
|switch|p2a: Despicable Me|Slurpuff, F, shiny|100/100
|turn|17
|
|t:|1721092125
|-end|p1a: Gouging Fire|Protosynthesis|[silent]
|switch|p1a: Sylveon|Sylveon, M|100/100
|move|p2a: Despicable Me|Cotton Guard|p2a: Despicable Me
|-boost|p2a: Despicable Me|def|3
|
|upkeep
|turn|18
|
|t:|1721092132
|-terastallize|p2a: Despicable Me|Fire
|move|p2a: Despicable Me|Calm Mind|p2a: Despicable Me
|-boost|p2a: Despicable Me|spa|1
|-boost|p2a: Despicable Me|spd|1
|move|p1a: Sylveon|Moonblast|p2a: Despicable Me
|-resisted|p2a: Despicable Me
|-damage|p2a: Despicable Me|80/100
|
|upkeep
|turn|19
|
|t:|1721092138
|move|p2a: Despicable Me|Calm Mind|p2a: Despicable Me
|-boost|p2a: Despicable Me|spa|1
|-boost|p2a: Despicable Me|spd|1
|move|p1a: Sylveon|Baton Pass|p1a: Sylveon
|
|t:|1721092140
|switch|p1a: Blastoise|Blastoise, F|68/100 tox|[from] Baton Pass
|
|-damage|p1a: Blastoise|62/100 tox|[from] psn
|upkeep
|turn|20
|c| Fennekmaster|oh shit
|
|t:|1721092145
|move|p2a: Despicable Me|Draining Kiss|p1a: Blastoise
|-damage|p1a: Blastoise|30/100 tox
|-heal|p2a: Despicable Me|100/100|[from] drain|[of] p1a: Blastoise
|-damage|p2a: Despicable Me|84/100|[from] item: Rocky Helmet|[of] p1a: Blastoise
|move|p1a: Blastoise|Haze|p1a: Blastoise
|-clearallboost
|
|-damage|p1a: Blastoise|18/100 tox|[from] psn
|upkeep
|turn|21
|
|t:|1721092167
|switch|p2a: Shogun|Kommo-o, M|64/100
|switch|p1a: Sylveon|Sylveon, M|100/100
|
|upkeep
|turn|22
|
|t:|1721092172
|move|p2a: Shogun|Iron Head|p1a: Sylveon
|-supereffective|p1a: Sylveon
|-enditem|p1a: Sylveon|Babiri Berry|[eat]
|-enditem|p1a: Sylveon|Babiri Berry|[weaken]
|-damage|p1a: Sylveon|73/100
|move|p1a: Sylveon|Wish|p1a: Sylveon
|
|upkeep
|turn|23
|
|t:|1721092185
|move|p2a: Shogun|Iron Head|p1a: Sylveon
|-supereffective|p1a: Sylveon
|-damage|p1a: Sylveon|14/100
|cant|p1a: Sylveon|flinch
|
|-heal|p1a: Sylveon|64/100|[from] move: Wish|[wisher] Sylveon
|upkeep
|turn|24
|c|☆Glumlee|come on
|
|t:|1721092203
|move|p2a: Shogun|Iron Head|p1a: Sylveon
|-supereffective|p1a: Sylveon
|-damage|p1a: Sylveon|1/100
|move|p1a: Sylveon|Wish|p1a: Sylveon
|
|upkeep
|turn|25
|
|t:|1721092211
|switch|p1a: Gouging Fire|Gouging Fire|19/100
|move|p2a: Shogun|Drain Punch|p1a: Gouging Fire
|-damage|p1a: Gouging Fire|0 fnt
|-heal|p2a: Shogun|75/100|[from] drain|[of] p1a: Gouging Fire
|faint|p1a: Gouging Fire
|-end|p1a: Gouging Fire|Protosynthesis|[silent]
|
|upkeep
|c|☆Glumlee|gg
|
|t:|1721092221
|switch|p1a: Blastoise|Blastoise, F|18/100 tox
|turn|26
|c| TransFlutterMane|will we ever learn this kommo-o's ability
|c|☆2n2plus|gg
|
|t:|1721092226
|move|p2a: Shogun|Drain Punch|p1a: Blastoise
|-damage|p1a: Blastoise|0 fnt
|-heal|p2a: Shogun|86/100|[from] drain|[of] p1a: Blastoise
|-damage|p2a: Shogun|69/100|[from] item: Rocky Helmet|[of] p1a: Blastoise
|faint|p1a: Blastoise
|
|upkeep
|
|t:|1721092227
|switch|p1a: Sylveon|Sylveon, M|1/100
|turn|27
|
|t:|1721092229
|move|p2a: Shogun|Iron Head|p1a: Sylveon
|-supereffective|p1a: Sylveon
|-damage|p1a: Sylveon|0 fnt
|faint|p1a: Sylveon
|
|win|2n2plus
|c|☆Glumlee|!showteam
|c| Glumlee|/raw <div class="infobox"><details><summary>View team</summary>Gouging Fire @ Heavy-Duty Boots  <br />Ability: Protosynthesis  <br />Hidden Power: Fighting  <br />Tera Type: Fire  <br />EVs: 252 Atk &#x2f; 36 SpD &#x2f; 220 Spe  <br />Adamant Nature  <br />- Heat Crash  <br />- Dragon Claw  <br />- Dragon Dance  <br />- Earthquake  <br /><br />Goodra (Goodra-Hisui) (M) @ Assault Vest  <br />Ability: Gooey  <br />Tera Type: Steel  <br />EVs: 248 HP &#x2f; 44 Def &#x2f; 216 SpA  <br />Modest Nature  <br />IVs: 0 Atk  <br />- Thunderbolt  <br />- Draco Meteor  <br />- Chilling Water  <br />- Flamethrower  <br /><br />Blastoise (F) @ Rocky Helmet  <br />Ability: Torrent  <br />Tera Type: Water  <br />EVs: 252 HP &#x2f; 252 Def &#x2f; 4 SpD  <br />Relaxed Nature  <br />- Flip Turn  <br />- Rapid Spin  <br />- Scald  <br />- Haze  <br /><br />Sylveon (M) @ Babiri Berry  <br />Ability: Cute Charm  <br />Tera Type: Fairy  <br />EVs: 248 HP &#x2f; 44 Def &#x2f; 216 SpA  <br />Modest Nature  <br />IVs: 0 Atk  <br />- Moonblast  <br />- Baton Pass  <br />- Mystical Fire  <br />- Wish  <br /><br />Venusaur (F) @ Venusaurite  <br />Ability: Chlorophyll  <br />Tera Type: Grass  <br />EVs: 52 HP &#x2f; 252 SpA &#x2f; 204 Spe  <br />Modest Nature  <br />IVs: 0 Atk  <br />- Sunny Day  <br />- Weather Ball  <br />- Sleep Powder  <br />- Earth Power  <br /><br />Azelf @ Focus Sash  <br />Ability: Levitate  <br />Tera Type: Psychic  <br />EVs: 252 Atk &#x2f; 4 SpD &#x2f; 252 Spe  <br />Adamant Nature  <br />- Stealth Rock  <br />- Explosion  <br />- Thunder Wave  <br />- Taunt  <br /><br /></details></div>
|l| NBA Leezey
|c|☆2n2plus|!showteam
|c| 2n2plus|/raw <div class="infobox"><details><summary>View team</summary>Shogun (Kommo-o) (M) @ Salac Berry  <br />Ability: Soundproof  <br />Tera Type: Dragon  <br />EVs: 4 HP &#x2f; 252 Atk &#x2f; 252 Spe  <br />Jolly Nature  <br />- Belly Drum  <br />- Drain Punch  <br />- Iron Head  <br />- Substitute  <br /><br />Despicable Me (Slurpuff) (F) @ Iapapa Berry  <br />Ability: Unburden  <br />Shiny: Yes  <br />Tera Type: Fire  <br />EVs: 184 Def &#x2f; 116 SpA &#x2f; 208 Spe  <br />Bold Nature  <br />IVs: 0 Atk  <br />- Cotton Guard  <br />- Calm Mind  <br />- Draining Kiss  <br />- Psychic  <br /><br />Eyes Wide Shut (Claydol) @ Light Clay  <br />Ability: Levitate  <br />Tera Type: Steel  <br />EVs: 252 HP &#x2f; 252 Def &#x2f; 4 SpA  <br />Bold Nature  <br />- Reflect  <br />- Light Screen  <br />- Rapid Spin  <br />- Toxic  <br /><br />Kill Bill (Samurott-Hisui) (M) @ Focus Sash  <br />Ability: Sharpness  <br />Tera Type: Water  <br />EVs: 252 Atk &#x2f; 4 SpD &#x2f; 252 Spe  <br />Jolly Nature  <br />- Swords Dance  <br />- Ceaseless Edge  <br />- Sacred Sword  <br />- Aqua Jet  <br /><br />Vendetta (Victini) @ Weakness Policy  <br />Ability: Victory Star  <br />Tera Type: Psychic  <br />EVs: 252 SpA &#x2f; 4 SpD &#x2f; 252 Spe  <br />Modest Nature  <br />- Toxic  <br />- Blue Flare  <br />- Psychic  <br />- Flame Charge  <br /><br />Edward Scissor (Scizor) (F) @ Scizorite  <br />Ability: Technician  <br />Tera Type: Bug  <br />EVs: 248 HP &#x2f; 252 Atk &#x2f; 8 Def  <br />Adamant Nature  <br />- U-turn  <br />- Bullet Punch  <br />- Close Combat  <br />- Dual Wingbeat  <br /><br /></details></div>
|l| night triumphant
|l|☆Glumlee
|player|p1|
|c|☆2n2plus|THE FLINCH IS FOR MY BOY AZ
|c|☆2n2plus|WE OUT HERE :GUN:`;

var x = parseReplay(log);

for (var i of x.head) {
  console.log(i);
}

console.log(x.head[24].lines);

for (var j of x.head[24].lines) {
  console.log(j);
}
